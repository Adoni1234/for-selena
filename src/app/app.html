<!-- HERO -->
<div class="relative min-h-screen flex flex-col justify-center items-center overflow-hidden bg-gradient-to-r from-pink-200 via-pink-100 to-pink-200">
  
  <!-- Audio -->
  <audio #audioPlayer loop>
    <source src="assets/audios/audio_fondo.mp3" type="audio/mp3"/>
  </audio>

  <!-- Botón invisible que activa la música -->
  <div 
    (click)="playAudio()" 
    class="absolute inset-0 z-50 cursor-pointer"
    title="Toca para activar la música 🎵">
  </div>

  <!-- Círculo decorativo -->
  <div class="absolute w-[800px] h-[800px] bg-gradient-to-tr from-pink-300 to-purple-300 rounded-full blur-3xl opacity-40 -top-1/3 -left-1/4"></div>

  <!-- Imagen principal -->
  <div class="relative z-10">
    <img src="assets/imagenes/IMG-20230603-WA0052.jpg"
         alt="Nosotros"
         class="w-72 h-72 md:w-96 md:h-96 object-cover rounded-full border-4 border-pink-400 shadow-2xl animate-pulse-slow"/>
  </div>

  <!-- Mensaje bonito -->
  <div class="mt-8 text-center relative z-10">
    <h1 class="text-4xl md:text-6xl font-bold text-pink-700 drop-shadow-lg animate-bounce">
      Para la persona más especial 💞
    </h1>
    <p class="mt-4 text-lg md:text-2xl text-gray-700 font-medium max-w-2xl mx-auto animate-fadeIn">
      Cada momento contigo se siente como un hermoso sueño del que nunca quiero despertar 🌸
    </p>
  </div>

  <!-- Corazones flotando -->
  <div class="absolute inset-0 pointer-events-none">
    <div *ngFor="let heart of hearts"
         class="absolute text-pink-500 animate-float"
         [style.left.%]="heart.left"
         [style.top.%]="heart.top">
      <i class="fas fa-heart text-2xl"></i>
    </div>

    <div *ngFor="let star of stars"
         class="absolute text-yellow-300 animate-twinkle"
         [style.left.%]="star.left"
         [style.top.%]="star.top">
      ✨
    </div>
  </div>
</div>

<!-- GALERÍA / CARRUSEL -->
<div class="relative w-full min-h-screen flex flex-col items-center justify-center 
            bg-gradient-to-r from-pink-200 via-purple-200 to-blue-200 overflow-hidden">

  <!-- Separador curvo superior -->
  <div class="absolute -top-12 left-0 w-full overflow-hidden leading-none">
    <svg class="relative block w-full h-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 80">
      <path fill="#fbcfe8" fill-opacity="1" d="M0,64L1440,0L1440,80L0,80Z"></path>
    </svg>
  </div>

  <!-- Imagen del carrusel -->
  <div class="relative">
    <img [src]="images[currentIndex].url"
         (error)="onImageError(images[currentIndex].url)"
         (load)="onImageLoad(images[currentIndex].url)"
         alt="Foto"
         class="w-80 h-80 md:w-[28rem] md:h-[28rem] object-cover rounded-2xl border-4 border-pink-500 shadow-2xl transition-all duration-700 ease-in-out">
    
    <!-- Flecha izquierda -->
    <button (click)="prev()"
            class="absolute left-[-3rem] top-1/2 transform -translate-y-1/2 text-white text-4xl p-3 bg-pink-500 rounded-full shadow-lg hover:bg-pink-600 transition">
      <i class="fas fa-chevron-left"></i>
    </button>

    <!-- Flecha derecha -->
    <button (click)="next()"
            class="absolute right-[-3rem] top-1/2 transform -translate-y-1/2 text-white text-4xl p-3 bg-pink-500 rounded-full shadow-lg hover:bg-pink-600 transition">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>

  <!-- Mensaje romántico -->
  <p class="mt-6 text-lg md:text-2xl font-medium text-gray-700 max-w-xl text-center italic">
    "{{ images[currentIndex].message }}"
  </p>

  <!-- Fecha -->
  <span class="mt-2 text-sm text-gray-600">
    📅 {{ images[currentIndex].date }}
  </span>

  <!-- Corazones flotando -->
  <div *ngFor="let heart of galleryHearts"
       class="absolute text-pink-400 animate-bounce"
       [ngStyle]="{'left.%': heart.left, 'top.%': heart.top}">
    <i class="fas fa-heart"></i>
  </div>
</div>

<!-- SECCIÓN 3️⃣ MENSAJES / DEDICATORIAS -->
<div class="relative w-full min-h-screen flex flex-col items-center justify-center bg-gradient-to-r from-pink-100 via-rose-100 to-pink-200 overflow-hidden py-20">

  <!-- Fondo con corazones flotando -->
  <div class="absolute inset-0 pointer-events-none">
    <div *ngFor="let heart of messageHearts"
         class="absolute text-pink-400 opacity-70 animate-float-slow"
         [style.left.%]="heart.left"
         [style.top.%]="heart.top">
      <i class="fas fa-heart text-sm"></i>
    </div>
  </div>

  <!-- Título -->
  <h2 class="text-4xl md:text-5xl font-bold text-pink-700 mb-10 animate-fade-in">
    🌹 Mensajes para Ti 🌹
  </h2>

  <!-- Contenedor de tarjetas -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 px-6 z-10">
    <div *ngFor="let msg of loveMessages; let i = index"
         class="bg-white/80 backdrop-blur-md shadow-lg rounded-2xl p-6 text-center 
                border border-pink-200 transition-transform duration-700 ease-in-out
                animate-slide-up hover:scale-105 hover:shadow-2xl">
      <p class="text-gray-700 italic text-lg md:text-xl">
        "{{ msg }}"
      </p>
    </div>
  </div>
</div>



<!-- SECCIÓN 4: CARRUSEL DE MENSAJES -->
<div class="relative w-full min-h-screen flex flex-col items-center justify-center overflow-hidden
            bg-gradient-to-r from-pink-100 via-pink-200 to-pink-100">

  <!-- Fondo decorativo -->
  <div class="absolute w-[700px] h-[700px] bg-gradient-to-br from-pink-300 to-purple-300 rounded-full blur-3xl opacity-40 -top-1/4 -right-1/4"></div>
  <div class="absolute w-[500px] h-[500px] bg-gradient-to-tl from-pink-200 to-yellow-200 rounded-full blur-2xl opacity-30 bottom-0 left-0"></div>

  <!-- Carrusel de mensajes -->
  <div class="relative z-10 max-w-3xl text-center p-8 bg-white/70 backdrop-blur-md rounded-3xl shadow-2xl border border-pink-200 transition-all duration-700 animate-fadeIn">
    <p class="text-2xl md:text-3xl font-semibold text-pink-800 italic leading-relaxed">
      “{{ messages[currentMessageIndex].text }}”
    </p>
    <span class="block mt-4 text-pink-500 font-medium">💞 {{ messages[currentMessageIndex].date }} 💞</span>

    <!-- Botones -->
    <div class="flex justify-center gap-6 mt-6">
      <button (click)="prevMessage()"
              class="text-pink-600 text-3xl hover:text-pink-800 transition">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button (click)="nextMessage()"
              class="text-pink-600 text-3xl hover:text-pink-800 transition">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>

  <!-- Corazones flotando -->
  <div class="absolute inset-0 pointer-events-none">
    <div *ngFor="let heart of floatingHearts"
         class="absolute text-pink-400 opacity-70 animate-float"
         [style.left.%]="heart.left"
         [style.top.%]="heart.top">
      <i class="fas fa-heart"></i>
    </div>
  </div>
</div>


<!-- SECCIÓN 5: CIERRE ROMÁNTICO -->
<section class="relative w-full min-h-screen flex flex-col items-center justify-center
                bg-gradient-to-r from-pink-100 via-rose-100 to-purple-100 overflow-hidden py-20">

  <!-- Corazones de fondo suaves -->
  <div class="absolute inset-0 pointer-events-none">
    <div *ngFor="let h of finalBackgroundHearts"
         class="absolute text-pink-300 opacity-40"
         [style.left.%]="h.left"
         [style.top.%]="h.top">
      ❤️
    </div>
  </div>

  <!-- Audio del pop (clic) -->
  <audio #clickSound src="assets/audios/pop.mp3" preload="auto"></audio>

  <!-- Texto central -->
  <div class="relative z-10 text-center max-w-3xl px-6">
    <h2 class="text-4xl md:text-6xl font-extrabold text-pink-700 mb-6 animate-fadeIn">
      Gracias por ser mi razón de sonreír cada día 💞
    </h2>
    <p class="text-lg md:text-xl text-gray-700 mb-8">
      Cuando cierro los ojos te imagino a mi lado, y mi corazón sabe que está en casa.
    </p>

    <!-- Botón interactivo -->
    <button (click)="triggerBurst()"
            class="inline-flex items-center gap-3 bg-pink-500 hover:bg-pink-600 text-white font-semibold px-6 py-3 rounded-full shadow-2xl transform transition hover:-translate-y-1">
      <span class="text-2xl">💌</span>
      <span class="text-lg">Te amo</span>
    </button>
  </div>

  <!-- Corazones burst (creados al click) -->
  <div class="absolute inset-0 pointer-events-none z-20">
    <div *ngFor="let b of burstHearts"
         class="burst-heart absolute"
         [ngStyle]="{
           left: b.left + '%',
           top: b.top + '%',
           width: b.size + 'px',
           height: b.size + 'px',
           transform: 'translate(-50%, -50%) rotate(' + b.rotate + 'deg)'
         }">
      ❤️
    </div>
  </div>
</section>
